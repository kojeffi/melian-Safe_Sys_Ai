
{% extends 'dashboard/master.html' %}
{% load static %}

{% block content %}
			<ul class="list-group list-group-flush">
				<h2>Assets Requiring Maintenance</h2>
				<br><br><br>
				{% if assets_to_maintain %}
				{% for asset in assets_to_maintain %}
				<li>{{ asset.name }} - {{ asset.description }} - {{ asset.location }}</li>
				{% endfor %}
				{% else %}
				<li>No assets require maintenance at the moment.</li>
				{% endif %}
			</ul>

			<h1>Predictive  Maintenance</h1>
			<section class="container">
				<div class="card">
					<div class="card-header">
						<h2 class="card-title">Compliance Regulations</h2>
					</div>
					<div class="card-body">
						<ul class="list-group list-group-flush">
							<h2>Assets</h2>
							<ul>
								{% for asset in assets %}
								<li>{{ asset.name }} - {{ asset.description }} - {{ asset.location }}</li>
								{% endfor %}
							</ul>

							<h2>Regulations</h2>
							<ul>
								{% for regulation in regulations %}
								<li>{{ regulation.name }} - {{ regulation.description }} - {{ regulation.effective_date }}</li>
								{% endfor %}
							</ul>

							<h2>Recent Compliance Checks</h2>
							<ul>
								{% for check in compliance_checks %}
								<li>{{ check.asset.name }} - {{ check.regulation.name }} - {{ check.check_date }} - {{ check.status }}</li>
								{% endfor %}
							</ul>
						</ul>
					</div>
				</div>
			</section>
			<section class="container">
				<style>
					.card-header {
                        background-color: white;
                        color: black;
                    }

                    .card-body {
                        background-color: white;
                        color: black;
                    }

                    .card:hover {
                        box-shadow: 0 4px 8px orange;
                    }

				</style>
				<div class="card">
					<div class="card-header">
						<h2 class="card-title">Safety Risks</h2>
					</div>
					<div class="card-body">
						<ul class="list-group list-group-flush">
							<h2>Assets Requiring Maintenance</h2>
							<br><br><br>
							{% for asset in assets_to_maintain %}
							<li>{{ asset.name }} - {{ asset.description }} - {{ asset.location }}</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</section>
			<section class="container">
				<div class="card">
					<div class="card-header">
						<h2 class="card-title">Equipment Maintenance</h2>
					</div>
					<div class="card-body">
						<ul class="list-group list-group-flush">
							{% for maintenance in equipment_maintenance %}
							<li class="list-group-item">{{ maintenance.asset.name }} - {{ maintenance.scheduled_date }} - {{ maintenance.description }}</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</section>

			<h1>SafeSys AI</h1>
			<h2>Assets</h2>
			<ul>
				{% for asset in assets %}
				<li><a href="{% url 'asset_detail' asset.id %}">{{ asset.name }}</a></li>
				{% endfor %}
			</ul>

			<h2>Compliance</h2>
			<ul>
				{% for compliance in compliances %}
				<li>{{ compliance.regulation }} - Due: {{ compliance.due_date }}</li>
				{% endfor %}
			</ul>

			<br><br><br>
			<h1>{{ asset.name }}</h1>
			<p>{{ asset.description }}</p>
			<p>Location: {{ asset.location }}</p>

			{% if alert %}
			<div class="alert alert-danger">{{ alert }}</div>
			{% endif %}

			{% if maintenance_due %}
			<div class="alert alert-warning">Maintenance is due for this asset.</div>
			{% endif %}

			<h2>Sensor Data</h2>
			<table>
				<thead>
				<tr>
					<th>Timestamp</th>
					<th>Temperature</th>
					<th>Pressure</th>
					<th>Vibration</th>
				</tr>
				</thead>
				<tbody>
				{% for data in sensor_data %}
				<tr>
					<td>{{ data.timestamp }}</td>
					<td>{{ data.temperature }}</td>
					<td>{{ data.pressure }}</td>
					<td>{{ data.vibration }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>
		</main>

	{% endblock %}